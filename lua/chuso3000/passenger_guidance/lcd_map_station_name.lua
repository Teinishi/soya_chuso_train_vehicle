-- @if inline_param_text == 'left'
flip = property.getBool('Direction')
-- @else
flip = not property.getBool('Direction')
-- @end
ins=table.insert
function p(s)
a={}
for e in s:gmatch('[^\n]+')do
b={}
if e~='-'then
for r in e:gmatch('%g*')do
c={}
for v in r:gmatch('.')do
ins(c,tonumber(v,36))
end
ins(b,c)
end
end
ins(a,b)
end
return a
end
D={{p([[-
612111115116 571114211121 5531111136 51112211111136 5112211111114141 5115111346 54121181
f121211113 f1116111 d72112 l412 d7211211 g1211421 f122211211
g11181 e111213131 e1134131 d42117 e1143131 e1116131 g11181
311361312151 31113411311134 3512122411111111 22111112115121111111 35111411222113 3111341131411111 311352112261
b1211243 56272114 5211113111412211 521111273113 5711111111112211 5311111111122313 522111151114
f1312141 f13115 f121311121 d535 f12181 f1311212 f131212111
6211113131111113 51153112 611121142141 65413126 521321234131 66315511 61112111225212
51111371111113 d6 51121121326111 57111434 562121113211 511111371113 5771311111
31131111112111311121 3211811433 3421312111112131 231211311616 3425211111211111 3211213111112116 3113113111142131
611411111316 611111a11121 6113314116 5412214116 6113362141 611111314126 6114214121
b1221155 5141312191 5122412281 5352211117 82411471 a1312191 b1221155
b131214121 5621111136 5111131111313121 51131111151511 5111122111511112 511311111111331111 53111131214113]]),0},{p([[-
a1d121 6123111112212121 22111121211121111114 6111112231212121 81f121 313212 2111111131 31211113
  8331315121 e1315121 91211111112124 8111222211111121 9121111111212121
m122 g221111121 g1112214 619221111121 2131c14121 521121111213 2111112111112121 21111112123211
61d143 941221111221 2311111111111122111111 611111111221111221 91a2 32211121222111 3111221111111112 322111212232
  p2 o121 91111212321121 9111212211111121 923112211122
  i13122 i1311121 223411111111221121 211111111111112211111121 22211111122111111122
51i121 841231222111 221111111111111111111122 511111111222222111 811112334121 22211131111111 3222111222 2221111162
21h13111 512232215221 21111111111111111111111121 21122221112121111111 52c171 32341232 311111111111111111 32211111122111
c1b121 8254122112 921111111111111211 332221111111122121 713171 4122422111 3111111111111122 412221122111
c1b121 8254122112 24321111111111111211 8221111111122121 71 313212 2111111131 31211113
51e143 7221343221 2211211111111111112121 512121211111112113  2234122111 2111111111111112 222111111232
  p3 c111116121 91921311 811111111111113111 9121111111111221 d131]]),-1},{p([[-
  25112221221131 512111131411111111 211111131111111111211111 2511221111113131 211111d3 l1
  5551214131 81611111111131 5111115131111121 55111112211122 51111112
 6121314141 611111231153 56123121121111 6112421121211111 61111111523121 d2
 31319171 241332241213 312231121226 8213422132 3111115211311111 311121321112112112
 a1213111 a111111511 9621411112 c14112121111 a122331122
 4121312141 41111121111121112121 36162121111111 6161313115 412221228111
 3131913222 331332233131 2222311212 422213425111 213162114123 32223211123211 51
  222111111111212332 41162221411111 41314112111115 31211113311112111111 61211111114111
a4114231 b1411211111111 c25111111111 211162221171 223112 5114111111 2311212112 3111233111
  2111423111121131 22311211111411111111 511321122111211111 23423111113131 311122a3 l1
 k1 222231222351 41536111111111 811121212135 2132411221113111 32
  2152122281 21334131511111 2341313122111111 21212131312251 a1314111]]),-1}}
ANM=property.getNumber('Animation Type')
M,S=math,screen
gN=input.getNumber
T={0,0,0}
P,I,pt=0,0,0
function onTick()
T={(gN(1)+1)%3-1,gN(1)%3-1,(gN(1)-1)%3-1}
P,I,pt=gN(6),gN(7),gN(9)//1
end
t,ta=0,0
function H(x,y,w,b)
a=(1-ta)^2
if ANM==0 then
if M.floor(t)<0 then return
else a=1 end
end
S.setColor(b,b,b,255*a)
S.drawRectF(M.floor(y+0.5),x,1,w)
end
function onDraw()
if P~=6 then return end
for i=0,4 do
Ii=flip and I-4+i or I-i
s=pt>>Ii-1&1~=0
for j=1,3 do
d=D[j]
t=T[j]
ta=M.abs(t)
if ta<1 then
for y,r in ipairs(d[1][Ii]or{})do
x=0
for k,v in ipairs(r)do
if k%2==0 then H(23+x,12+16*i+d[2]+y,v,s and 0 or 30)end
x=x+v
end
end
end
end
end
end
